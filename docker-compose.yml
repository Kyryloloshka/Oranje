version: "3.8"

services:
  api:
    image: mcr.microsoft.com/dotnet/aspnet:6.0 # або твоя версія .NET
    container_name: api-container
    ports:
      - "5000:80"
    volumes:
      - ./api:/app
    working_dir: /app
    command: ["dotnet", "watch"]

  frontend:
    image: node:14-alpine # або інша версія Node.js
    container_name: frontend-container
    ports:
      - "4200:4200"
    volumes:
      - ./front:/app
    working_dir: /app
    command: ["npm", "start"]
  sql:
    image: mcr.microsoft.com/azure-sql-edge
    environment:
      ACCEPT_EULA: "Y"
      MSSQL_SA_PASSWORD: "Password123@"
    ports:
      - "1433:1433"
    volumes:
      - sql-data:/var/opt/mssql
  redis:
    image: redis:latest
    ports:
      - "6379:6379"
    volumes:
      - redis-data:/data
volumes:
  sql-data:
  redis-data:
